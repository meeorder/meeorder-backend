{"openapi":"3.0.0","paths":{"/health":{"get":{"operationId":"HealthController_getHealth","parameters":[],"responses":{"200":{"description":"Health status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponseDto"}}}}},"tags":["health"]}},"/health/ping":{"get":{"operationId":"HealthController_getPing","parameters":[],"responses":{"200":{"description":"Health status (Not connected to DB)","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["health"]}},"/categories":{"post":{"operationId":"CategoriesController_createCategory","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"responses":{"201":{"description":"Created new category"}},"tags":["categories"]},"get":{"operationId":"CategoriesController_getAllCategories","parameters":[],"responses":{"200":{"description":"Get all categories"}},"tags":["categories"]}},"/categories/{id}":{"get":{"operationId":"CategoriesController_getCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all categories"}},"tags":["categories"]},"put":{"operationId":"CategoriesController_updateCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"responses":{"200":{"description":"Update category"}},"tags":["categories"]},"delete":{"operationId":"CategoriesController_deleteCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":"Delete category"}},"tags":["categories"]}},"/addons":{"post":{"operationId":"AddonsController_createAddon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"responses":{"201":{"description":"Created addon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}}},"tags":["addons"]},"get":{"operationId":"AddonsController_getAllAddons","parameters":[],"responses":{"200":{"description":"Get all addons","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateAddonDto"}}}}}},"tags":["addons"]}},"/addons/{id}":{"get":{"operationId":"AddonsController_getAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get addon by Id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"404":{"description":"Addon not found"}},"tags":["addons"]},"put":{"operationId":"AddonsController_updateAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"responses":{"200":{"description":"Updated addon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"404":{"description":"Addon not found"}},"tags":["addons"]},"delete":{"operationId":"AddonsController_deleteAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted addon"},"404":{"description":"Addon not found"}},"tags":["addons"]}},"/menus":{"get":{"operationId":"MenusController_getMenus","parameters":[{"name":"status","required":true,"in":"query","schema":{"enum":["published","draft","all"],"type":"string"}}],"responses":{"200":{"description":"Get all menus","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetAllMenuResponseDto"}}}}}},"tags":["menus"]},"post":{"operationId":"MenusController_createMenu","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMenuDto"}}}},"responses":{"201":{"description":"The menu has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuSchema"}}}}},"tags":["menus"]},"delete":{"operationId":"MenusController_removeMenus","parameters":[{"name":"ids","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"The menus have been successfully deleted."},"204":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}":{"get":{"operationId":"MenusController_getMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get menu by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMenuByIdResponseDto"}}}},"404":{"description":"No menu found"}},"tags":["menus"]},"put":{"operationId":"MenusController_updateMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMenuDto"}}}},"responses":{"200":{"description":"The menu has been successfully updated."},"404":{"description":"No menu found"}},"tags":["menus"]},"delete":{"operationId":"MenusController_removeMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully deleted."},"204":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}/publish":{"patch":{"operationId":"MenusController_publishMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully published."},"404":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}/unpublish":{"patch":{"operationId":"MenusController_unpublishMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully unpublished."},"404":{"description":"No menu found"}},"tags":["menus"]}},"/sessions":{"get":{"operationId":"SessionController_getSessions","parameters":[{"name":"finished","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Sessions list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionSchema"}}}}}},"tags":["sessions"]},"post":{"operationId":"SessionController_createSession","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSessionDto"}}}},"responses":{"201":{"description":"Session created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}}},"tags":["sessions"]}},"/sessions/{id}":{"get":{"operationId":"SessionController_getSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectID)","schema":{"type":"string"}}],"responses":{"200":{"description":"Session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}}},"tags":["sessions"]},"delete":{"operationId":"SessionController_deleteSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Session deleted"},"404":{"description":"Session not found"}},"tags":["sessions"]}},"/sessions/table/{id}":{"get":{"operationId":"SessionController_getSessionByTable","parameters":[{"name":"id","required":true,"in":"path","description":"Table ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}},"404":{"description":"No session found in the table"}},"tags":["sessions"]}},"/sessions/{id}/finish":{"patch":{"operationId":"SessionController_finishSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Session finished"},"404":{"description":"Session not found"}},"tags":["sessions"]}},"/tables":{"post":{"operationId":"TablesController_createTable","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TablesDto"}}}},"responses":{"201":{"description":"Create table"}},"tags":["tables"]},"get":{"operationId":"TablesController_getTables","parameters":[],"responses":{"200":{"description":"Get tables","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TablesSchema"}}}}}},"tags":["tables"]}}},"info":{"title":"My API","description":"My API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"HealthResponseDto":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"status":{"type":"string","description":"Health status","example":"OK"}},"required":["id","createdAt","status"]},"CategoryDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"}},"required":["title","description"]},"CreateAddonDto":{"type":"object","properties":{"title":{"type":"string"},"price":{"type":"number"}},"required":["title","price"]},"CategorySchema":{"type":"object","properties":{"_id":{"type":"string","description":"Category ID"},"title":{"type":"string"},"description":{"type":"string"}},"required":["_id","title","description"]},"AddonSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Addon ID"},"title":{"type":"string"},"price":{"type":"number"}},"required":["_id","title","price"]},"GetMenuByIdResponseDto":{"type":"object","properties":{"image":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"$ref":"#/components/schemas/AddonSchema"}},"published_at":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"}},"required":["image","name","description","price","category","addons","published_at","deleted_at"]},"GetAllMenuResponseDto":{"type":"object","properties":{"category":{"$ref":"#/components/schemas/CategorySchema"},"menus":{"type":"array","items":{"$ref":"#/components/schemas/GetMenuByIdResponseDto"}}},"required":["category","menus"]},"CreateMenuDto":{"type":"object","properties":{"image":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"type":"string"}}},"required":["image","name","description","price","category","addons"]},"MenuSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Menu ID"},"image":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"type":"string"}},"published_at":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"}},"required":["_id","image","name","description","price","category","addons","published_at","deleted_at"]},"SessionSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Session ID"},"created_at":{"format":"date-time","type":"string","description":"Session creation date"},"finished_at":{"format":"date-time","type":"string","description":"Session finish date","nullable":true},"uid":{"type":"string","description":"User ID","nullable":true},"table":{"type":"number","description":"Table ID"}},"required":["_id","created_at","finished_at","uid","table"]},"CreateSessionDto":{"type":"object","properties":{"uid":{"type":"string","description":"User ID"},"table":{"type":"number","description":"Table ID"}},"required":["table"]},"TablesDto":{"type":"object","properties":{"_id":{"type":"number"}},"required":["_id"]},"TablesSchema":{"type":"object","properties":{"_id":{"type":"number"}},"required":["_id"]}}}}